{"version":3,"sources":["app.js","components/sign-in.js","components/sign-up.js","components/user-links.js","services/auth-interceptor.js","services/auth-token.js","services/current-user.js","services/notes-service.js","services/users-service.js","notes/notes.js","users/users.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function() {\n  var app = angular.module('notely', [\n    'ui.router',\n    'notely.notes'\n  ]);\n\n  function config($urlRouterProvider) {\n    $urlRouterProvider.otherwise('/notes/');\n  }\n\n  config['$inject'] = ['$urlRouterProvider'];\n  app.config(config);\n\n  app.constant('API_BASE', 'http://localhost:3000/api/v1/');\n})();\n","angular.module('notely')\r\n.directive('signIn', ['$state', 'UsersService', ($state, UsersService) => {\r\n\r\n  class SignInController {\r\n    constructor() {\r\n      this.user = {};\r\n    }\r\n    \r\n    login() {\r\n      UsersService.login(this.user).then(function() {\r\n        $state.go('notes.form', { noteId: undefined });\r\n      });\r\n    }\r\n  }\r\n\r\n  return {\r\n    scope: {},\r\n    controller: SignInController,\r\n    controllerAs: 'ctrl',\r\n    bindToController: true,\r\n    templateUrl: '/components/sign-in.html'\r\n  };\r\n}]);\r\n","angular.module('notely')\r\n.directive('signUp', ['$state', 'UsersService', ($state, UsersService) => {\r\n\r\n  class SignUpController {\r\n    constructor() {\r\n      this.user = {};\r\n    }\r\n    submit() {\r\n      UsersService.create(this.user).then(function() {\r\n        $state.go('notes.form', { noteId: undefined });\r\n      });\r\n    }\r\n  }\r\n\r\n  return {\r\n    scope: {},\r\n    controller: SignUpController,\r\n    controllerAs: 'ctrl',\r\n    bindToController: true,\r\n    templateUrl: '/components/sign-up.html'\r\n  };\r\n}]);\r\n","angular.module('notely')\r\n.directive('userLinks', () => {\r\n\r\n  class UserLinksController {\r\n    constructor($state, CurrentUser, AuthToken) {\r\n      this.$state = $state;\r\n      this.CurrentUser = CurrentUser;\r\n      this.AuthToken = AuthToken;\r\n    }\r\n\r\n    user() {\r\n      return this.CurrentUser.get();\r\n    }\r\n\r\n    signedIn() {\r\n      return !!(this.user()._id);\r\n    }\r\n\r\n    logout() {\r\n      this.CurrentUser.clear();\r\n      this.AuthToken.clear();\r\n      this.$state.go('sign-in');\r\n    }\r\n  }\r\n  UserLinksController.$inject = ['$state', 'CurrentUser', 'AuthToken'];\r\n\r\n  return {\r\n    scope: {},\r\n    controller: UserLinksController,\r\n    controllerAs: 'ctrl',\r\n    bindToController: true,\r\n    template: `\r\n      <div class=\"user-links\">\r\n        <div ng-show=\"ctrl.signedIn()\">\r\n          Signed in as {{ ctrl.user().name }}\r\n          |\r\n          <a href=\"#\" ng-click=\"ctrl.logout()\">Logout</a>\r\n        </div>\r\n      </div>\r\n    `\r\n  };\r\n\r\n});\r\n","angular.module('notely')\r\n  .factory('AuthInterceptor', ['AuthToken', 'API_BASE',\r\n    function(AuthToken, API_BASE) {\r\n      return {\r\n        request: function(config) {\r\n          var token = AuthToken.get();\r\n          if (token && config.url.indexOf(API_BASE) > -1) {\r\n            config.headers['Authorization'] = token;\r\n          }\r\n          return config;\r\n        }\r\n      };\r\n    }]);\r\n\r\nangular.module('notely')\r\n  .config(['$httpProvider', function($httpProvider) {\r\n    return $httpProvider.interceptors.push('AuthInterceptor');\r\n  }]);\r\n","angular.module('notely')\r\n  .service('AuthToken', ['$window', ($window) => {\r\n\r\n    class AuthToken {\r\n      constructor() {\r\n        this.authToken = $window.localStorage.getItem('authToken');\r\n      }\r\n      set(token) {\r\n        this.authToken = token;\r\n        $window.localStorage.setItem('authToken', this.authToken);\r\n      }\r\n      get() {\r\n        return this.authToken;\r\n      }\r\n      clear() {\r\n        this.authToken = undefined;\r\n        $window.localStorage.removeItem('authToken');\r\n      }\r\n    }\r\n    return new AuthToken();\r\n  }]);\r\n","angular.module('notely')\r\n  .service('CurrentUser', ['$window', ($window) => {\r\n\r\n    class CurrentUser {\r\n      constructor() {\r\n        this.currentUser = JSON.parse(\r\n          $window.localStorage.getItem('currentUser')\r\n        );\r\n      }\r\n\r\n      set(user) {\r\n        this.currentUser = user;\r\n        $window.localStorage.setItem(\r\n          'currentUser',\r\n          JSON.stringify(this.currentUser)\r\n        );\r\n      }\r\n\r\n      get() {\r\n        return this.currentUser || {};\r\n      }\r\n\r\n      clear() {\r\n        this.currentUser = undefined;\r\n        $window.localStorage.removeItem('currentUser');\r\n      }\r\n    }\r\n    return new CurrentUser();\r\n\r\n  }]);\r\n","angular.module('notely')\r\n  .service('NotesService', NotesService);\r\n\r\n// NotesService\r\n// Handle CRUD operations against the server.\r\nNotesService.$inject = ['$http', 'API_BASE'];\r\nfunction NotesService($http, API_BASE) {\r\n  var self = this;\r\n  self.notes = [];\r\n  self.latestResult = \"\";\r\n\r\n  // Get all notes from server\r\n  self.fetch = function() {\r\n    return $http.get(API_BASE + 'notes')\r\n    .then(\r\n      // Success callback\r\n      function(response) {\r\n        self.notes = response.data;\r\n      },\r\n      // Failure callback\r\n      function(response) {\r\n        // TODO: Handle failure\r\n      }\r\n    );\r\n  };\r\n\r\n  self.get = function() {\r\n    return self.notes;\r\n  };\r\n\r\n  self.findById = function(noteId) {\r\n    // Look through 'self.notes' for a note with a match _id.\r\n    for (var i = 0; i < self.notes.length; i++) {\r\n      if (self.notes[i]._id === noteId) {\r\n        //making copy so if you change it only change on the entry not the\r\n        // List\r\n        return angular.copy(self.notes[i]);\r\n      }\r\n    }\r\n    return {};\r\n  };\r\n\r\n  self.getMessage = function() {\r\n    return self.latestResult;\r\n  };\r\n\r\n  self.create = function(note) {\r\n    var noteCreatePromise =  $http.post(API_BASE + 'notes', {\r\n      note: note\r\n    });\r\n\r\n    noteCreatePromise.then(function(response) {\r\n      self.notes.unshift(response.data.note);\r\n      self.latestResult = response.data.message;\r\n    });\r\n\r\n    return noteCreatePromise;\r\n  }\r\n\r\n  self.update = function(note) {\r\n    var noteUpdatePromise =  $http.put(API_BASE + 'notes/' + note._id, {\r\n      note: {\r\n        title: note.title,\r\n        body_html: note.body_html\r\n      }\r\n    });\r\n\r\n    noteUpdatePromise.then(function(response) {\r\n      self.replaceNote(response.data.note);\r\n    });\r\n    return noteUpdatePromise;\r\n  };\r\n\r\n  self.replaceNote = function(note) {\r\n    for (var i = 0; i < self.notes.length; i++) {\r\n      if (self.notes[i]._id === note._id) {\r\n        self.notes[i] = note;\r\n      }\r\n    }\r\n    return {};\r\n  }\r\n\r\n  self.delete = function(note) {\r\n    var noteDeletePromise =  $http.delete(API_BASE + 'notes/' + note._id);\r\n    noteDeletePromise.then(function(response) {\r\n      // alert(response.data.message);\r\n      self.removeNote(note);\r\n    });\r\n    return noteDeletePromise;\r\n  };\r\n\r\n  self.removeNote = function(note) {\r\n    for (var i = 0; i < self.notes.length; i++) {\r\n      if (self.notes[i]._id === note._id) {\r\n        self.notes.splice(i, 1);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n","angular.module('notely')\r\n  .service('UsersService', [\r\n    '$http', 'API_BASE', 'AuthToken', 'CurrentUser',\r\n     ($http, API_BASE, AuthToken, CurrentUser) => {\r\n    class UsersService {\r\n      create(user) {\r\n        let userPromise = $http.post(`${API_BASE}users`, {\r\n          user: user\r\n        });\r\n        userPromise.then((response) => {\r\n          AuthToken.set(response.data.auth_token);\r\n          CurrentUser.set(response.data.user);\r\n        });\r\n        return userPromise;\r\n      }\r\n\r\n      login(user) {\r\n        let loginPromise = $http.post(`${API_BASE}sessions`, {\r\n          user: user\r\n        });\r\n        loginPromise.then((response) => {\r\n          AuthToken.set(response.data.auth_token);\r\n          CurrentUser.set(response.data.user);\r\n        });\r\n        return loginPromise;\r\n      }\r\n    }\r\n    return new UsersService();\r\n\r\n  }]);\r\n","(function (){\r\n\r\n  angular.module('notely.notes', [\r\n    'ui.router',\r\n    'textAngular'\r\n  ])\r\n  .config(notesConfig);\r\n// This is my comment\r\n  notesConfig['$inject'] = ['$stateProvider'];\r\n  function notesConfig($stateProvider) {\r\n    $stateProvider\r\n\r\n      .state('notes', {\r\n        url: '/notes',\r\n        resolve: {\r\n          notesLoaded:  ['NotesService', function(NotesService) {\r\n            return NotesService.fetch();\r\n          }]\r\n        },\r\n        templateUrl: '/notes/notes.html',\r\n        controller: NotesController\r\n      })\r\n\r\n      .state('notes.form', {\r\n          url: '/:noteId',\r\n          templateUrl: '/notes/notes-form.html',\r\n          controller: NotesFormController\r\n      });\r\n  }\r\n\r\n  NotesController.$inject = ['$state', '$scope', 'NotesService'];\r\n  function NotesController($state, $scope, NotesService) {\r\n      $scope.notes = {};\r\n      $scope.notes = NotesService.get();\r\n  }\r\n\r\n  NotesFormController.$inject = ['$state', '$scope', 'NotesService']\r\n  function NotesFormController($state, $scope, NotesService) {\r\n    $scope.note = NotesService.findById($state.params.noteId);\r\n\r\n    $scope.save = function () {\r\n       // Decide whether to call create or update...\r\n       if ($scope.note._id) {\r\n         NotesService.update($scope.note).then(function(response) {\r\n           $scope.note = angular.copy(response.data.note);\r\n         });\r\n       }\r\n       else {\r\n         NotesService.create($scope.note).then(function(response) {\r\n           $state.go('notes.form', { noteId: response.data.note._id });\r\n         }).then(function(){\r\n           $scope.latestResult = NotesService.getMessage();\r\n         });\r\n       }\r\n    };\r\n\r\n    $scope.delete = function () {\r\n      NotesService.delete($scope.note).then(function(repsonse) {\r\n        $state.go('notes.form', { noteId: undefined });\r\n      });\r\n    };\r\n\r\n    $scope.buttonText = function() {\r\n      if ($scope.note._id) {\r\n        return 'Save Changes';\r\n      }\r\n      return 'Save';\r\n    }\r\n  }\r\n})();\r\n","{\r\n  angular.module('notely')\r\n  .config(usersConfig);\r\n\r\n  usersConfig.$inject = ['$stateProvider'];\r\n  function usersConfig ($stateProvider) {\r\n    $stateProvider\r\n      .state('sign-up', {\r\n        url: '/sign-up',\r\n        template: '<sign-up></sign-up>'\r\n      })\r\n      .state('sign-in', {\r\n        url: '/sign-in',\r\n        template: '<sign-in></sign-in>'\r\n      });\r\n  };\r\n}\r\n"],"sourceRoot":"/source/"}